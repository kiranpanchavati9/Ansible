##dnf install mysql-server -y
#
##systemctl enable mysqld
##systemctl restart mysqld
#
##mysql_secure_installation --set-root-pass RoboShop@1
#
##!/bin/bash
#
#dnf install mysql-server -y
#
#systemctl enable mysqld
#systemctl restart mysqld
#
## Root password already set, so update script to use password
#mysql -uroot -pRoboShop@1 <<EOF
#ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'RoboShop@1';
#FLUSH PRIVILEGES;
#EOF
#

- name: My SQL Server Setup
  hosts: all
  become: true
  tasks:
    - name: Disable default mysql module
      ansible.builtin.shell: dnf module disable mysql -y
      # This is a quick fix to ensure no version conflicts exist

    - name: Install MySQL Server
      ansible.builtin.dnf:
        name: mysql-server
        state: latest

    - name: Start and Enable MySQL Service
      ansible.builtin.service:
        name: mysqld
        state: started
        enabled: true



